<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.4 'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;box-sizing:border-box;overflow-y:none;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;color:inherit;font-family:'Muli','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}ul{margin-left:1.4rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.4rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;font-size:0.85rem;line-height:1.4rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;font-size:1rem;line-height:1.4rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}blockquote{margin-left:0;margin-right:1.4rem;margin-top:0;padding-bottom:0;padding-left:1rem;padding-right:0;padding-top:0;margin-bottom:1.4rem;border-left:4px solid #8EA68D;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.4rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:0;border-top:1px solid #8EA68D;width:100%;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.4rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.4rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.4rem;margin-bottom:calc(1.4rem / 2);margin-top:calc(1.4rem / 2);}li > ul{margin-left:1.4rem;margin-bottom:calc(1.4rem / 2);margin-top:calc(1.4rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.4rem / 2);}code{font-size:0.85rem;line-height:1.4rem;}kbd{font-size:0.85rem;line-height:1.4rem;}samp{font-size:0.85rem;line-height:1.4rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.93333rem;padding-right:0.93333rem;padding-top:0.7rem;padding-bottom:calc(0.7rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h1,h2,h3,h4,h5,h6{line-height:1.1;}a{color:#8EA68D;text-decoration:none;}a:hover{text-decoration:underline;}code,pre{background-color:#f5f5f5;border:.5px solid #8EA68D;border-radius:3px;padding:.1em .3em;}pre > code{border:none;}label{color:#8EA68D;font-weight:500;font-size:.8rem;text-transform:uppercase;}label>input,label>textarea{font-size:1rem;}</style><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="icon" href="/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=edf3d310d67f8284a562bc3a58c3e761"/><title data-react-helmet="true"></title><style data-styled="cVoFVF eAZRVf ispvpa gmWqzu dEbXUm dVovKP hFHzrd kyQYtc kxsVKK djZxDx hhtaYl bEYRVp eEYGcX cndNy UQKmD dCfZHS gfClwk dvexBp bbtksy" data-styled-version="4.4.1">
/* sc-component-id: menu__MenuWrapper-sc-1i8rgvc-0 */
.eAZRVf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 0 200px;-ms-flex:0 0 200px;flex:0 0 200px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:200px;padding-bottom:1.5rem;padding-left:1em;padding-right:0;padding-top:1.5rem;background-color:#000000;color:white;}
/* sc-component-id: menu__MenuLink-sc-1i8rgvc-1 */
.ispvpa{color:#8EA68D;font-size:1rem;font-weight:500;margin:.25em 0;padding:.25em 1.5rem;-webkit-text-decoration:none;text-decoration:none;width:100%;} .ispvpa.active,.ispvpa:hover{background-color:rgba(142,166,141,0.5);color:#f5f5f5;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: menu__MenuFooter-sc-1i8rgvc-4 */
.gmWqzu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:.25em 0;margin-top:auto;padding:.25em 1.5rem;}
/* sc-component-id: menu__LogoLink-sc-1i8rgvc-5 */
.dEbXUm{color:#8EA68D;margin:0 .25em;-webkit-text-decoration:none;text-decoration:none;} .dEbXUm:first-child{margin-left:0;} .dEbXUm:last-child{margin-right:0;}
/* sc-component-id: menu__LogoLinkImg-sc-1i8rgvc-6 */
.dVovKP{height:auto;width:22px;}
/* sc-component-id: menu__Auth0SVG-sc-1i8rgvc-7 */
.hFHzrd{fill:#f5f5f5;height:22px;width:22px;}
/* sc-component-id: layout__Wrapper-sc-1s0s9b7-0 */
.cVoFVF{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:100vh;}
/* sc-component-id: posts__PostsWrapper-sc-1chtog6-0 */
.kyQYtc{border-right:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100vh;margin:0;max-height:100vh;max-width:300px;overflow-y:auto;padding:0;}
/* sc-component-id: posts__Post-sc-1chtog6-1 */
.kxsVKK{border-bottom:1px solid #8EA68D;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0;-webkit-text-decoration:none;text-decoration:none;} .kxsVKK.active{background-color:#f5f5f5;} .kxsVKK:hover{background-color:#f5f5f5;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: posts__PostInner-sc-1chtog6-2 */
.djZxDx{border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:0;padding:1.5rem 1.5rem;} .active .djZxDx{border-left-color:#8EA68D;}
/* sc-component-id: posts__PostTitle-sc-1chtog6-3 */
.bEYRVp{font-size:1rem;margin:0;margin-bottom:.2rem;text-transform:uppercase;color:#282828;}
/* sc-component-id: posts__PostDate-sc-1chtog6-4 */
.hhtaYl{font-size:.8rem;margin:0;margin-bottom:.25rem;color:#8EA68D;}
/* sc-component-id: posts__PostTags-sc-1chtog6-5 */
.eEYGcX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;}
/* sc-component-id: posts__PostTag-sc-1chtog6-6 */
.cndNy{color:#8EA68D;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:.8rem;margin-right:1em;} .cndNy:last-child{margin-right:0;}
/* sc-component-id: post__PostWrapper-sc-1ebvw4q-0 */
.UQKmD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:100vh;overflow-y:auto;padding:1.5rem 1.5rem;}
/* sc-component-id: post__PostHeader-sc-1ebvw4q-1 */
.dCfZHS{-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: post__PostDate-sc-1ebvw4q-3 */
.dvexBp{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;max-width:170px;text-align:right;}</style><meta name="generator" content="Gatsby 2.18.17"/><link href="//fonts.googleapis.com/css?family=Muli:300,400,400i,500,700,700i" rel="stylesheet" type="text/css"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-91630535-1', 'auto', {});
      
      
      
      
      
      }</script><link as="script" rel="preload" href="/app-197a3875686d1921a025.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-f5bc731a7a7e2a885961.js"/><link as="script" rel="preload" href="/commons-ebc43b2aaa3626546301.js"/><link as="script" rel="preload" href="/webpack-runtime-29550fdff17629eaea52.js"/><link as="fetch" rel="preload" href="/page-data/blog/filter-contentful-content-by-date/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="layout__Wrapper-sc-1s0s9b7-0 cVoFVF"><div class="menu__MenuWrapper-sc-1i8rgvc-0 eAZRVf"><a class="menu__MenuLink-sc-1i8rgvc-1 ispvpa" href="/">Home</a><a aria-current="page" class="menu__MenuLink-sc-1i8rgvc-1 ispvpa active" href="/blog/filter-contentful-content-by-date">Latest</a><a class="menu__MenuLink-sc-1i8rgvc-1 ispvpa" href="/contact">Contact</a><footer class="menu__MenuFooter-sc-1i8rgvc-4 gmWqzu"><a href="https://github.com/monkishtypist" target="_blank" class="menu__LogoLink-sc-1i8rgvc-5 dEbXUm"><div class="menu__LogoLinkImg-sc-1i8rgvc-6 dVovKP gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:100%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8klEQVQ4y32UzytEURTH34yZDQsrFJOyQKwk2WDFiiQlGxvJ2kKGlBJK2dhQftTYSaz8AdbkRxMbhaSUBdGEaQzGG9/7nDN9586MW5/uveec+33nvnvuddLptGMwDX2RIw3jehAGhyABfsCt67qroFPjMPbTeidHDH0I7IjAf+0CYr2UgM+hiYp1gzdZ8A2+QErEFbVrW6FsfbaY3VyBWypP3FZGUMSqwbs4r8AgnHu0IAaewafML8EwYiIUM8Zb3iXHNtlbQQuoAGWgFnSCEvF30bo4qDTGBtnWt7dH1z2Q4IBToOkBmCxFLCH9nDFOy+RD+rAeFPALPsKzSUwdeKUsz43xmAyPoDinDPJnGZB+nQ4wZgxJqrlTLVAu+DxiXB3jVGYph+pLT8//nyj+sQdlOEuCnuOatmz+Y8gqdhXIArag+Pdpy3FjWBaD1tgi36Cse/rX++ljTdYOb4yxneroRcaT/FCYDO2DwrgD3Et8UvoNdepJ94NNGd/JI1Glr4rEToGodRX1ejarYJsYnkA53ZyoZgpBPYQF8X3JVvVXrdkvzYQ4IjIvLVAmfSSoWz0DQQ7WqzQjASdgHozovyPBAevVOdKPa8nZoj3gQb9Mp62CQ3R/l/TJyojRCWbVHhg1izVDWthosse8hn5J5jL8Atd1NDEq+UBQAAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/eb94bb97c3410733ce017b184d314723/1a5db/GitHub-Mark-Light-64px.png 20w,
/static/eb94bb97c3410733ce017b184d314723/e564d/GitHub-Mark-Light-64px.png 40w,
/static/eb94bb97c3410733ce017b184d314723/a757b/GitHub-Mark-Light-64px.png 64w" sizes="(max-width: 64px) 100vw, 64px" /><img loading="lazy" sizes="(max-width: 64px) 100vw, 64px" srcset="/static/eb94bb97c3410733ce017b184d314723/1a5db/GitHub-Mark-Light-64px.png 20w,
/static/eb94bb97c3410733ce017b184d314723/e564d/GitHub-Mark-Light-64px.png 40w,
/static/eb94bb97c3410733ce017b184d314723/a757b/GitHub-Mark-Light-64px.png 64w" src="/static/eb94bb97c3410733ce017b184d314723/a757b/GitHub-Mark-Light-64px.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a><a href="#login" class="menu__LogoLink-sc-1i8rgvc-5 dEbXUm"><svg id="artwork" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.71 216.56" class="menu__Auth0SVG-sc-1i8rgvc-7 hFHzrd"><title>auth0-logo-white</title><path d="M189,66.92,167.22,0H96.85L118.6,66.92ZM96.85,0H26.49L4.75,66.92H75.11ZM4.75,66.92Zm0,0h0A96.85,96.85,0,0,0,39.93,175.2l21.74-66.92Zm184.21,0h0L132,108.28l21.74,66.92h0A96.85,96.85,0,0,0,189,66.92ZM39.93,175.2h0l56.93,41.36,56.92-41.36L96.85,133.84Z"></path></svg></a></footer></div><div class="posts__PostsWrapper-sc-1chtog6-0 kyQYtc"><a aria-current="page" class="posts__Post-sc-1chtog6-1 kxsVKK active" href="/blog/filter-contentful-content-by-date"><div class="posts__PostInner-sc-1chtog6-2 djZxDx"><h5 class="posts__PostDate-sc-1chtog6-4 hhtaYl">2019-12-31</h5><h1 class="posts__PostTitle-sc-1chtog6-3 bEYRVp">Filtering Contentful Content by Publish Date</h1><div class="posts__PostTags-sc-1chtog6-5 eEYGcX"><span class="posts__PostTag-sc-1chtog6-6 cndNy">Gatsby</span><span class="posts__PostTag-sc-1chtog6-6 cndNy">Contentful</span><span class="posts__PostTag-sc-1chtog6-6 cndNy">data manipulation</span></div></div></a></div><div class="post__PostWrapper-sc-1ebvw4q-0 UQKmD"><div class="post__PostHeader-sc-1ebvw4q-1 dCfZHS"><h1 class="post__PostTitle-sc-1ebvw4q-2 gfClwk">Filtering Contentful Content by Publish Date</h1><h5 class="post__PostDate-sc-1ebvw4q-3 dvexBp">December 31, 2019</h5></div><hr/><div class="post__PostBody-sc-1ebvw4q-4 bbtksy"><p>I had a not-so-unusual problem the other day while working on another Gatsby/Contentful blog. I needed a way to set a <em>publish on</em> date for posts, and then filter said posts such that content with a future publish date would not be compiled into the blog until said date.</p>
<p>In theory this should have been a very simple solution. However, while Contentful supports scheduled publishing, the source plugin <code>gatsby-source-contentful</code> does not recognize publish dates. In fact <a href="https://www.contentfulcommunity.com/t/api-for-scheduled-publishing/3087" target="_blank" rel="noopener nofollow">the Contentful API does not support this feature yet</a> either, so the data wouldn't be available anyway.</p>
<p>Therefore to tackle the first problem, we need something that we can access in our GraphQL query. To do this we create a <em>Publish Date</em> field in Contentful for our Post content type. We can then set this field equal to the date we have scheduled for our post. Now when Contentful publishes our post, it can also trigger a webhook to Netlify to deploy our site with the newly published content. Plus we can now access this data in <code>gatsby-node.js</code> and sort by our publish date in descending order.</p>
<p><strong>gatsby-node.js</strong></p>
<pre><code class="language-javascript">exports.createPages = ({ graphql, actions }) => {
  const { createPage } = actions
  const loadPosts = new Promise((resolve, reject) => {
    graphql(`
      {
        allContentfulPost(
          sort: { fields: [publishDate], order: DESC }
        ) {
          edges {
            node {
              title
              slug
              publishDate
            }
          }
        }
      }
    `).then(result => {
      const posts = result.data.allContentfulPost.edges
      const postsPerFirstPage = config.postsPerHomePage
      const postsPerPage = config.postsPerPage
      const numPages = Math.ceil(
        posts.slice(postsPerFirstPage).length / postsPerPage
      )
      resolve()
    })
  })
  return Promise.all([loadPosts])
}
</code></pre>
<p>The next part is a little bit trickier - filtering out posts scheduled in the future. You might be asking why we would need to filter out posts that haven't been published yet and therefore have not even triggered a deploy. In fact you might even say something like:</p>
<blockquote>
<p>Why would we need to filter out posts that haven't been published yet, if they have not even triggered a deploy?</p>
</blockquote>
<p>To wit I say, "what happens if you need to deploy another change in the meantime?" The new problem is that our source plugin <code>gatsby-source-contentful</code> doesn't check the publish status of our Contentful content, and will attempt to include this content during build. So if for example we need to update a few styles or add a new component, when we attempt to build and deploy these updates they will include these <em>future</em> posts. Therefore we still need to filter these out.</p>
<p>Fortunately we can use schema customization in Gatsby to achieve this functionality, as noted in <a href="https://github.com/gatsbyjs/gatsby/issues/17159#issuecomment-549091641" target="_blank" rel="noopener nofollow">this comment on GitHub</a>. Just add the following to <code>gatsby-node.js</code> before our previous query:</p>
<p><strong>gatsby-node.js</strong></p>
<pre><code class="language-javascript">exports.createSchemaCustomization = ({ actions, schema, getNode }) => {
  actions.createTypes([
    schema.buildObjectType({
      name: 'ContentfulPost',
      interfaces: ['Node'],
      fields: {
        isFuture: {
          type: 'Boolean!',
          resolve: source => new Date(source.publishDate) > new Date(),
        }
      }
    })
  ])
}
</code></pre>
<p>And then we can use our new schema to filter our previous query like so:</p>
<p><strong>gatsby-node.js</strong></p>
<pre><code class="language-javascript">graphql(`
  {
    allContentfulPost(
      filter: { isFuture: { eq: false } }
      sort: { fields: [publishDate], order: DESC }
    ) {
      edges {
        node {
          title
          slug
          publishDate
        }
      }
    }
  }
`)
</code></pre>
<p>Now any posts with a <code>publishDate</code> set in the future will not be included in our build.</p></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/filter-contentful-content-by-date";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-197a3875686d1921a025.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-6cc37212ef529ca81b4e.js"],"component---src-templates-post-js":["/component---src-templates-post-js-f5bc731a7a7e2a885961.js"],"component---src-pages-404-js":["/component---src-pages-404-js-67cd8cbc59d08a82f1c1.js"],"component---src-pages-account-js":["/component---src-pages-account-js-afca6566bca4500e2fe9.js"],"component---src-pages-callback-js":["/component---src-pages-callback-js-d0c4b2c6e2b3a16021c6.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-2dc06ed9ec36cd6157ac.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4c34bda8baeed56cbf9f.js"]};/*]]>*/</script><script src="/webpack-runtime-29550fdff17629eaea52.js" async=""></script><script src="/commons-ebc43b2aaa3626546301.js" async=""></script><script src="/component---src-templates-post-js-f5bc731a7a7e2a885961.js" async=""></script><script src="/app-197a3875686d1921a025.js" async=""></script></body></html>